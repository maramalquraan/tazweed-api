let Router,database,generate_id,sendBookEmail;_176‍.w("express",[["Router",["Router"],function(v){Router=v}]]);_176‍.w("./../../index",[["database",["database"],function(v){database=v}]]);_176‍.w("./../../helpers/helpers",[["generate_id",["generate_id"],function(v){generate_id=v}],["sendBookEmail",["sendBookEmail"],function(v){sendBookEmail=v}]]);



const router = _176‍.a("Router",Router)();

router.post("/book", (request, response) => {
    collection = _176‍.a("database",database).collection("Slots");
    const slot_info = request.body.slot || { seller_id: "vyOORmHdYCYKZS2n6", slot_time: "Fri, 06 Mar 2020 18:53:33 GMT", email: "quraanmaram@gmail.com" };
    slot_info["_id"] = _176‍.a("generate_id",generate_id)();
    collection.insert(slot_info, (error, result) => {
        if (error) {
            return response.status(500).send({ status: 500, message: "something went wrong, please try again!" });
        }
        _176‍.a("sendBookEmail",sendBookEmail)(slot_info.email, slot_info.slot_time);
        response.send({ status: 200, message: "Slot is booked successfully!" });
    });
});
